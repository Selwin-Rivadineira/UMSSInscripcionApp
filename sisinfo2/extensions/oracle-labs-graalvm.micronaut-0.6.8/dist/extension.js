(()=>{var e={702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.downloadJSON=void 0;const r=n(611),i=n(692);t.downloadJSON=async function(e,t){return new Promise(((n,o)=>{const s=(e.startsWith("http://")?r:i).get(e,(e=>{const{statusCode:t}=e,r=e.headers["content-type"]||"";let i;if(200!==t?i=`Request Failed.\nStatus Code: ${t}`:/^application\/json/.test(r)||(i=`Invalid content-type.\nExpected application/json but received ${r}`),i)e.resume(),o(i);else{let t="";e.on("data",(e=>{t+=e})),e.on("end",(()=>{n(t)}))}}));if(t){const e=setTimeout((()=>s.destroy(new Error("Timeout after "+t+" ms."))),t);s.on("response",(()=>clearTimeout(e)))}s.on("error",(e=>o(e.message))).end()}))}},574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiStepInput=t.sortQuickPickObjectsByName=t.QuickPickObject=t.simpleProgress=t.showError=t.showErrorMessage=t.showErrorMessageWithReportIssueCommand=t.getErrorMessage=t.openInBrowser=t.checkGCNExtensions=t.handleNewGCNProject=void 0;const r=n(980),i=n(664);async function o(e){const t="micronaut.doNotShowRecommendation";if(!e.globalState.get(t)&&!r.extensions.getExtension("oracle-labs-graalvm.micronaut")&&!r.extensions.getExtension("oracle-labs-graalvm.graal-cloud-native-pack")){const n="Install",i="Do not Ask Again",o=await r.window.showInformationMessage("Do you want to install the 'Graal Development Kit for Micronaut Extension Pack' recommended for work with Micronaut / Graal Development Kit for Micronaut projects?",n,i);o===n?await r.commands.executeCommand("workbench.extensions.installExtension","oracle-labs-graalvm.graal-cloud-native-pack"):o===i&&e.globalState.update(t,!0)}}function s(e,t){return t&&(t.message?e=e?`${e}: ${t.message}`:t.message:t.toString()&&(e=e?`${e}: ${t.toString()}`:t.toString())),e?e.endsWith(".")||(e=`${e}.`):e="Unknown error.",e}function a(e,t,...n){const o=s(e,t);return i.logError(o),r.window.showErrorMessage(o,...n)}t.handleNewGCNProject=async function(e,t,n){const i="Open in New Window",s="Add to Current Workspace";if(r.workspace.workspaceFolders){const a=await r.window.showInformationMessage(`New ${n} project created`,i,s);a===i?await r.commands.executeCommand("vscode.openFolder",t,!0):a===s&&(r.workspace.updateWorkspaceFolders(r.workspace.workspaceFolders?r.workspace.workspaceFolders.length:0,void 0,{uri:t}),o(e))}else if(r.window.activeTextEditor){const e=await r.window.showInformationMessage(`New ${n} project created`,i,"Open in Current Window");e&&await r.commands.executeCommand("vscode.openFolder",t,i===e)}else await r.commands.executeCommand("vscode.openFolder",t,!1)},t.checkGCNExtensions=o,t.openInBrowser=async function(e){return r.env.openExternal(r.Uri.parse(e))},t.getErrorMessage=s,t.showErrorMessageWithReportIssueCommand=function(e,t,n,...i){const o="Report Issue";return i.push(o),a(e,n,...i).then((e=>{if(e!==o)return e;r.commands.executeCommand(t)}))},t.showErrorMessage=a,t.showError=function(e,...t){return a(void 0,e,...t)},t.simpleProgress=function(e,t){return r.window.withProgress({location:r.ProgressLocation.Notification,title:e,cancellable:!1},((e,n)=>t()))};class c{constructor(e,t,n,r){this.label=e,this.description=t,this.detail=n,this.object=r}static separator(e){const t=new c(e,void 0,void 0);return t.kind=r.QuickPickItemKind.Separator,t}}t.QuickPickObject=c,t.sortQuickPickObjectsByName=function(e){e.sort(((e,t)=>e.label.localeCompare(t.label)))};class u{}u.back=new u,u.cancel=new u,u.resume=new u;class l{constructor(){this.steps=[]}static async run(e){return(new l).stepThrough(e)}async stepThrough(e){let t=e,n=!1;for(;t;){n=!1,this.steps.push(t),this.current&&(this.current.enabled=!1,this.current.busy=!0);try{t=await t(this),n=!0}catch(e){if(e===u.back)this.steps.pop(),t=this.steps.pop();else if(e===u.resume)t=this.steps.pop();else{if(e!==u.cancel)throw e;t=void 0}}}return this.current&&this.current.dispose(),n}async setupQuickPick(e,{title:t,step:n,totalSteps:i,items:o,activeItems:s,placeholder:a,canSelectMany:c,buttons:l,shouldResume:d}){const f=[];return new Promise(((h,p)=>{e.title&&(e.title=t),n>=0&&(e.step=n),i>0&&(e.totalSteps=i),a&&(e.placeholder=a),e.items=o,c?(e.canSelectMany=c,s&&(e.selectedItems=Array.isArray(s)?s:[s])):s&&(e.activeItems=Array.isArray(s)?s:[s]),e.buttons=[...this.steps.length>1?[r.QuickInputButtons.Back]:[],...l||[]],e.ignoreFocusOut=!0,f.push(e.onDidTriggerButton((e=>{e===r.QuickInputButtons.Back?p(u.back):h(e)})),e.onDidAccept((()=>{c?h(e.selectedItems):e?.selectedItems[0]&&h(e.selectedItems[0])})),e.onDidHide((()=>{(async()=>{p(d&&await d()?u.resume:u.cancel)})().catch(p)}))),this.current&&this.current.dispose(),this.current=e})).finally((()=>{f.forEach((e=>e.dispose()))}))}async showQuickPick({title:e,step:t,totalSteps:n,items:i,activeItems:o,placeholder:s,canSelectMany:a,buttons:c,shouldResume:u}){const l=r.window.createQuickPick(),d=this.setupQuickPick(l,{title:e,step:t,totalSteps:n,items:i,activeItems:o,placeholder:s,canSelectMany:a,buttons:c,shouldResume:u});return l.show(),d}async showInputBox({title:e,step:t,totalSteps:n,value:i,prompt:o,validate:s,buttons:a,shouldResume:c}){const l=[];try{return await new Promise(((d,f)=>{const h=r.window.createInputBox();h.title=e,h.step=t,h.totalSteps=n,h.value=i||"",h.prompt=o,h.buttons=[...this.steps.length>1?[r.QuickInputButtons.Back]:[],...a||[]],h.ignoreFocusOut=!0;let p=s("");l.push(h.onDidTriggerButton((e=>{e===r.QuickInputButtons.Back?f(u.back):d(e)})),h.onDidAccept((async()=>{const e=h.value;h.enabled=!1,h.busy=!0,await s(e)||d(e),h.enabled=!0,h.busy=!1})),h.onDidChangeValue((async e=>{const t=s(e);p=t;const n=await t;t===p&&(h.validationMessage=n)})),h.onDidHide((()=>{(async()=>{f(c&&await c()?u.resume:u.cancel)})().catch(f)}))),this.current&&this.current.dispose(),this.current=h,this.current.show()}))}finally{l.forEach((e=>e.dispose()))}}}t.MultiStepInput=l},664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logAndThrow=t.logError=t.logWarning=t.logInfo=t.logDebug=t.logTrace=t.registerExtensionForLogging=void 0;const r=n(980);let i;t.registerExtensionForLogging=function(e){i||(i=r.window.createOutputChannel(e.extension.packageJSON.displayName,{log:!0}))},t.logTrace=function(e){if(!i)throw new Error("Extension isn't registered for logging.");i.trace(e)},t.logDebug=function(e){if(!i)throw new Error("Extension isn't registered for logging.");i.debug(e)},t.logInfo=function(e){if(!i)throw new Error("Extension isn't registered for logging.");i.info(e)},t.logWarning=function(e){if(!i)throw new Error("Extension isn't registered for logging.");i.warn(e)},t.logError=function(e,t){if(!i)throw new Error("Extension isn't registered for logging.");i.error(e),t&&i.error(`  --\x3e Error data: ${JSON.stringify(t)}`)},t.logAndThrow=function(e,t){if(!i)throw new Error("Extension isn't registered for logging.");i.error(e);const n=new Error(e);throw t?t(n):n}},56:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.installExtension=t.isExtensionInstalled=t.neverCheckExtensionInstalled=t.canCheckExtensionInstalled=t.EXTENSION_NAME=void 0;const r=n(980);t.EXTENSION_NAME="Tools for MicronautÂ® framework";const i="oracle-labs-graalvm.micronaut-tools";t.canCheckExtensionInstalled=function(e){return r.workspace.getConfiguration(e).get("checkToolsExtension",!0)},t.neverCheckExtensionInstalled=function(e){return r.workspace.getConfiguration(e).update("checkToolsExtension",!1,!0)},t.isExtensionInstalled=function(){return!!r.extensions.getExtension(i)},t.installExtension=async function(){try{return await r.commands.executeCommand("workbench.extensions.installExtension",i),!0}catch(e){return r.window.showErrorMessage(`Failed to install ${t.EXTENSION_NAME} extension: ${e}`),!1}}},834:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNewProjectName=t.checkProjectFolderExists=t.getJavaVMs=t.micronautProjectExists=t.getJavaHome=t.getJavaVersion=t.findExecutable=void 0;const r=n(980),i=n(317),o=n(896),s=n(928),a=n(547);function c(e,t){if(t){let n=s.join(t,"bin",e);if("win32"===process.platform){if(o.existsSync(n+".cmd"))return n+".cmd";if(o.existsSync(n+".exe"))return n+".exe"}else if(o.existsSync(n))return n}}async function u(e){return new Promise((t=>{if(e&&o.existsSync(e)){const n=c("java",e);n?i.execFile(n,["-version"],{encoding:"utf8"},((e,n,r)=>{if(r){let e,n,i;if(r.split("\n").forEach((t=>{const r=t.match(/version\s+"(\S+)"/),o=t.match(/(GraalVM.*)\s+\(/),s=t.match(/^(.*)\s+Runtime Environment/);r&&r.length>1&&(e=r[1]),o&&o.length>1&&(n=o[1]),s&&s.length>1&&(i=s[1])})),e&&(i||n)){let r=e;r.startsWith("1.")&&(r=r.slice(2));let o=r.indexOf(".");o>-1&&(r=r.slice(0,o)),t(n?`${n}, Java ${r}`:`${i} ${e}, Java ${r}`)}else t(void 0)}else t(void 0)})):t(void 0)}else t(void 0)}))}t.findExecutable=c,t.getJavaVersion=u,t.getJavaHome=function(){let e=r.workspace.getConfiguration("graalvm").get("home");if(e)return e;if(e=process.env.GRAALVM_HOME,e)return e;const t=r.workspace.getConfiguration("java").get("configuration.runtimes");if(t)for(const e of t)if(e&&"object"==typeof e&&e.path&&e.default)return e.path;return e=r.workspace.getConfiguration("java").get("home"),e||(e=process.env.JAVA_HOME,e)},t.micronautProjectExists=async function(){return(await r.workspace.findFiles("**/micronaut-cli.yml","**/node_modules/**")).length>0},t.getJavaVMs=async function(){const e=(await r.commands.getCommands()).includes("extension.graalvm.findGraalVMs")&&await r.commands.executeCommand("extension.graalvm.findGraalVMs")||[],t=await a.findRuntimes({checkJavac:!0});if(t.length)for(const n of t)if(n.hasJavac&&!e.find((e=>s.normalize(e.path)===s.normalize(n.homedir)))){const t=await u(n.homedir);t&&e.push({name:t,path:n.homedir,active:!1})}const n=r.workspace.getConfiguration("java").get("configuration.runtimes",[]);if(n.length)for(const t of n)if(t&&"object"==typeof t&&t.path&&!e.find((e=>s.normalize(e.path)===s.normalize(t.path)))){const n=await u(t.path);n&&e.push({name:n,path:t.path,active:t.default})}return e.sort(((e,t)=>{const n=e.name.toUpperCase(),r=t.name.toUpperCase();return n<r?-1:n>r?1:0})),e},t.checkProjectFolderExists=async function(e,t){if(!t||0===t.trim().length)return!0;const n=s.join(e,t);return!!o.existsSync(n)},t.addNewProjectName=async function(e,t){const n=`The project name you're targeting already exists in the selected directory. Click OK to proceed with "${t}", or use Change Name to define different name.`,i="Change Name";let o;return r.window.showWarningMessage(n,"OK",i).then((async n=>(n===i?o=await r.window.showInputBox({title:`${e}: Provide project name`,placeHolder:"Provide unique project name",value:t}):"OK"===n&&(o=t),o)))}},468:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const c=s(n(896)),u=s(n(857)),l=s(n(928)),d=n(979),f=null!==(r=process.env.ASDF_DATA_DIR)&&void 0!==r?r:l.join(u.homedir(),".asdf"),h=l.join(f,"installs","java");t.candidates=function(){return a(this,void 0,void 0,(function*(){const e=[];try{const t=(yield c.promises.readdir(h,{withFileTypes:!0})).filter((e=>e.isDirectory())).map((e=>l.join(h,e.name)));e.push(...t)}catch(e){(0,d.log)(e)}return e}))}},918:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidatesFromSpecificEnv=t.candidatesFromPath=void 0;const a=o(n(896)),c=o(n(928)),u=n(110),l=new Set(["/usr","/usr/"]);t.candidatesFromPath=function(){return s(this,void 0,void 0,(function*(){const e=[];if(process.env.PATH){const t=process.env.PATH.split(c.delimiter).filter((e=>(0,u.looksLikeJavaHome)(e)||a.existsSync(c.join(e,u.JAVA_FILENAME)))).map(u.expandTilde),n=(yield Promise.all(t.map((e=>(0,u.getRealHome)(c.dirname(e)))))).filter((e=>e&&!(u.isMac&&l.has(e))));e.push(...n)}return e.filter(Boolean)}))},t.candidatesFromSpecificEnv=function(e){return s(this,void 0,void 0,(function*(){if(process.env[e]){const t=process.env[e].replace(/[\\\/]$/,"");return(0,u.getRealHome)(t)}}))}},665:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const c=s(n(896)),u=s(n(857)),l=s(n(928)),d=n(979),f=n(110),h=null!==(r=process.env.GRADLE_USER_HOME)&&void 0!==r?r:l.join(u.homedir(),".gradle"),p=l.join(h,"jdks");t.candidates=function(){return a(this,void 0,void 0,(function*(){const e=[];try{for(const t of yield c.promises.readdir(p,{withFileTypes:!0}))if(t.isDirectory()){const n=l.join(p,t.name),r=(yield c.promises.readdir(n,{withFileTypes:!0})).filter((e=>e.isDirectory())).map((e=>f.isMac?l.join(n,e.name,"Contents","Home"):l.join(n,e.name)));e.push(...r)}}catch(e){(0,d.log)(e)}return e}))}},377:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=t.HOMEBREW_DIR_LINUX=t.HOMEBREW_DIR_APPLE_SILLICON=t.HOMEBREW_DIR_INTEL=void 0;const a=o(n(896)),c=o(n(928)),u=n(979),l=n(110);t.HOMEBREW_DIR_INTEL="/usr/local/opt",t.HOMEBREW_DIR_APPLE_SILLICON="/opt/homebrew/opt",t.HOMEBREW_DIR_LINUX="/home/linuxbrew/.linuxbrew/opt",t.candidates=function(e){return s(this,void 0,void 0,(function*(){const t=[];try{const n=(yield a.promises.readdir(e,{withFileTypes:!0})).filter((e=>e.isSymbolicLink()&&(0,l.looksLikeJavaHome)(e.name))).map((t=>c.join(e,t.name))),r=yield Promise.all((0,l.deDup)(n).map((e=>(0,l.getRealHome)(e))));t.push(...r)}catch(e){(0,u.log)(e)}return t.filter(Boolean)}))}},336:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const a=o(n(896)),c=o(n(857)),u=o(n(928)),l=n(979),d=u.join(c.homedir(),".jabba"),f=u.join(d,"jdk");t.candidates=function(){return s(this,void 0,void 0,(function*(){const e=[];try{const t=(yield a.promises.readdir(f,{withFileTypes:!0})).filter((e=>e.isDirectory())).map((e=>u.join(f,e.name)));e.push(...t)}catch(e){(0,l.log)(e)}return e}))}},947:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const a=o(n(896)),c=o(n(857)),u=o(n(928)),l=n(979),d=n(110),f=u.join(c.homedir(),".jenv"),h=u.join(f,"versions");t.candidates=function(){return s(this,void 0,void 0,(function*(){const e=[];try{const t=(yield a.promises.readdir(h,{withFileTypes:!0})).filter((e=>e.isSymbolicLink())).map((e=>u.join(h,e.name))),n=yield Promise.all(t.map((e=>a.promises.realpath(e)))),r=(0,d.deDup)(n);e.push(...r)}catch(e){(0,l.log)(e)}return e}))}},510:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const a=o(n(896)),c=o(n(928)),u=n(979),l=["/usr/lib/jvm","/usr/java"];t.candidates=function(){return s(this,void 0,void 0,(function*(){const e=[];for(const t of l)try{const n=(yield a.promises.readdir(t,{withFileTypes:!0})).filter((e=>e.isDirectory())).map((e=>c.join(t,e.name)));e.push(...n)}catch(e){(0,u.log)(e)}return e}))}},853:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const a=o(n(317)),c=o(n(896)),u=o(n(857)),l=o(n(928)),d=n(979),f=n(110),h=["/Library/Java/JavaVirtualMachines",l.join(u.homedir(),"Library/Java/JavaVirtualMachines")];t.candidates=function(){return s(this,void 0,void 0,(function*(){const e=[];return e.push(...yield function(){return s(this,void 0,void 0,(function*(){const e=[],t="/usr/libexec/java_home";try{yield c.promises.access(t,c.constants.F_OK),yield new Promise(((n,r)=>{a.execFile(t,["-V"],{},((t,r,i)=>{const o=/".*" - ".*" (.*)/g;let s;do{s=o.exec(i),s&&e.push(s[1])}while(null!==s);n()}))}))}catch(e){(0,d.log)(e)}return e}))}()),e.push(...yield function(){return s(this,void 0,void 0,(function*(){const e=[];for(const t of h)try{const n=(yield c.promises.readdir(t,{withFileTypes:!0})).filter((e=>e.isDirectory())).map((e=>l.join(t,e.name,"Contents","Home")));e.push(...n)}catch(e){(0,d.log)(e)}return e}))}()),(0,f.deDup)(e)}))}},806:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const c=s(n(896)),u=s(n(857)),l=s(n(928)),d=n(979),f=null!==(r=process.env.SDKMAN_DIR)&&void 0!==r?r:l.join(u.homedir(),".sdkman"),h=l.join(f,"candidates","java");t.candidates=function(){return a(this,void 0,void 0,(function*(){const e=[];try{const t=(yield c.promises.readdir(h,{withFileTypes:!0})).filter((e=>e.isDirectory())).map((e=>l.join(h,e.name)));e.push(...t)}catch(e){(0,d.log)(e)}return e}))}},845:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const a=o(n(896)),c=o(n(857)),u=o(n(928)),l=n(979),d=n(110),f=Array.from(new Set([process.env.ProgramW6432,process.env.ProgramFiles,process.env.LOCALAPPDATA,u.join(c.homedir(),"AppData","Local")])).filter(Boolean),h=["Eclipse Foundation","Eclipse Adoptium","Java","Amazon Corretto","Microsoft",u.join("SapMachine","JDK"),"Zulu"];t.candidates=function(){return s(this,void 0,void 0,(function*(){const e=[];for(const t of f)for(const n of h){const r=u.join(t,n);try{const t=(yield a.promises.readdir(r,{withFileTypes:!0})).filter((e=>e.isDirectory())).map((e=>u.join(r,e.name)));e.push(...t)}catch(e){(0,l.log)(e)}}return e.filter(d.looksLikeJavaHome)}))}},547:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getSources=t.getRuntime=t.findRuntimes=t.JAVA_FILENAME=t.JAVAC_FILENAME=void 0;const a=o(n(317)),c=o(n(896)),u=o(n(928)),l=o(n(468)),d=o(n(918)),f=o(n(665)),h=o(n(377)),p=o(n(336)),m=o(n(947)),v=o(n(510)),E=o(n(853)),g=o(n(806)),y=o(n(845)),w=o(n(979)),_=n(110);var O=n(110);function I(e){return s(this,void 0,void 0,(function*(){const{homedir:t}=e,n=u.join(t,"bin",_.JAVA_FILENAME);try{yield c.promises.access(n,c.constants.F_OK),e.isValid=!0}catch(t){e.isValid=!1}return e}))}function N(e){return s(this,void 0,void 0,(function*(){const{homedir:t}=e,n=u.join(t,"bin",_.JAVAC_FILENAME);try{yield c.promises.access(n,c.constants.F_OK),e.hasJavac=!0}catch(t){e.hasJavac=!1}return e}))}function D(e){return s(this,void 0,void 0,(function*(){const{homedir:t}=e,n=u.join(t,"release");try{const t=yield c.promises.readFile(n,{encoding:"utf-8"}),r=/^JAVA_VERSION="(.*)"/gm.exec(t.toString());if(!r)return e;const i=r[1],o=S(i);e.version={java_version:i,major:o}}catch(e){w.log(e)}if(void 0===e.version)try{e.version=yield function(e){return s(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{const r=u.join(e,"bin",_.JAVA_FILENAME);a.execFile(r,["-version"],{},((e,n,r)=>{const i=/version "(.*)"/g.exec(r);if(!i)return t(void 0);const o=i[1],s=S(o);t({java_version:o,major:s})}))}))}))}(t)}catch(e){w.log(e)}return e}))}function S(e){if(!e)return 0;e.startsWith("1.")&&(e=e.substring(2));const t=/\d+/g.exec(e);let n=0;return t&&(n=parseInt(t[0])),n}Object.defineProperty(t,"JAVAC_FILENAME",{enumerable:!0,get:function(){return O.JAVAC_FILENAME}}),Object.defineProperty(t,"JAVA_FILENAME",{enumerable:!0,get:function(){return O.JAVA_FILENAME}}),t.findRuntimes=function(e){var t,n,r,i,o,a,c,u;return s(this,void 0,void 0,(function*(){const s=new C,w=[],O=(t,n)=>{(null==e?void 0:e.withTags)?s.updateRuntimes(t,n):w.push(...t)};if((null===(t=null==e?void 0:e.skipFrom)||void 0===t?void 0:t.sdkman)||O(yield g.candidates(),(e=>Object.assign(Object.assign({},e),{isFromSDKMAN:!0}))),_.isLinux&&(O(yield v.candidates()),O(yield h.candidates(h.HOMEBREW_DIR_LINUX))),_.isMac){O(yield E.candidates());const e=_.isArm?h.HOMEBREW_DIR_APPLE_SILLICON:h.HOMEBREW_DIR_INTEL;O(yield h.candidates(e))}if(_.isWindows&&O(yield y.candidates()),!(null===(n=null==e?void 0:e.skipFrom)||void 0===n?void 0:n.jdkHomeEnv)){const e=yield d.candidatesFromSpecificEnv("JDK_HOME");e&&O([e],(e=>Object.assign(Object.assign({},e),{isJdkHomeEnv:!0})))}if(!(null===(r=null==e?void 0:e.skipFrom)||void 0===r?void 0:r.javaHomeEnv)){const e=yield d.candidatesFromSpecificEnv("JAVA_HOME");e&&O([e],(e=>Object.assign(Object.assign({},e),{isJavaHomeEnv:!0})))}(null===(i=null==e?void 0:e.skipFrom)||void 0===i?void 0:i.inPathEnv)||O(yield d.candidatesFromPath(),(e=>Object.assign(Object.assign({},e),{isInPathEnv:!0}))),(null===(o=null==e?void 0:e.skipFrom)||void 0===o?void 0:o.jenv)||O(yield m.candidates(),(e=>Object.assign(Object.assign({},e),{isFromJENV:!0}))),(null===(a=null==e?void 0:e.skipFrom)||void 0===a?void 0:a.jabba)||O(yield p.candidates(),(e=>Object.assign(Object.assign({},e),{isFromJabba:!0}))),(null===(c=null==e?void 0:e.skipFrom)||void 0===c?void 0:c.asdf)||O(yield l.candidates(),(e=>Object.assign(Object.assign({},e),{isFromASDF:!0}))),(null===(u=null==e?void 0:e.skipFrom)||void 0===u?void 0:u.gradle)||O(yield f.candidates(),(e=>Object.assign(Object.assign({},e),{isFromGradle:!0})));let S=(null==e?void 0:e.withTags)?s.allRuntimes():(0,_.deDup)(w).map((e=>({homedir:e})));S=yield Promise.all(S.map(I)),S=S.filter((e=>e.isValid)),(null==e?void 0:e.checkJavac)&&(S=yield Promise.all(S.map(N))),(null==e?void 0:e.withVersion)&&(S=yield Promise.all(S.map(D)));for(const e of S)delete e.isValid;return S}))},t.getRuntime=function(e,t){return s(this,void 0,void 0,(function*(){let n={homedir:e};if(n=yield I(n),n.isValid)return(null==t?void 0:t.checkJavac)&&(n=yield N(n)),(null==t?void 0:t.withVersion)&&(n=yield D(n)),(null==t?void 0:t.withTags)&&((yield f.candidates()).includes(e)&&(n.isFromGradle=!0),(yield l.candidates()).includes(e)&&(n.isFromASDF=!0),(yield m.candidates()).includes(e)&&(n.isFromJENV=!0),(yield g.candidates()).includes(e)&&(n.isFromSDKMAN=!0),(yield p.candidates()).includes(e)&&(n.isFromJabba=!0),(yield d.candidatesFromPath()).includes(e)&&(n.isInPathEnv=!0),(yield d.candidatesFromSpecificEnv("JAVA_HOME"))===e&&(n.isJavaHomeEnv=!0),(yield d.candidatesFromSpecificEnv("JDK_HOME"))===e&&(n.isJdkHomeEnv=!0)),n}))},t.getSources=function(e){const t=[];return e.isJdkHomeEnv&&t.push("JDK_HOME"),e.isJavaHomeEnv&&t.push("JAVA_HOME"),e.isInPathEnv&&t.push("PATH"),e.isFromSDKMAN&&t.push("SDKMAN"),e.isFromJENV&&t.push("jEnv"),e.isFromJabba&&t.push("jabba"),e.isFromASDF&&t.push("asdf"),e.isFromGradle&&t.push("Gradle"),t};class C{constructor(){this.map=new Map}updateRuntimes(e,t){for(const n of e)this.updateRuntime(n,t)}updateRuntime(e,t){var n;const r=this.map.get(e)||{homedir:e};this.map.set(e,null!==(n=null==t?void 0:t(r))&&void 0!==n?n:r)}allRuntimes(){return Array.from(this.map.values())}}},979:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=void 0,t.log=function(...e){}},110:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getRealHome=t.expandTilde=t.deDup=t.looksLikeJavaHome=t.JAVAC_FILENAME=t.JAVA_FILENAME=t.isArm=t.isLinux=t.isMac=t.isWindows=void 0;const a=o(n(896)),c=n(857),u=n(928),l=o(n(979));function d(e){return 126===e.charCodeAt(0)?(0,u.join)((0,c.homedir)(),e.slice(1)):e}t.isWindows=0===process.platform.indexOf("win"),t.isMac=0===process.platform.indexOf("darwin"),t.isLinux=0===process.platform.indexOf("linux"),t.isArm=0===process.arch.indexOf("arm"),t.JAVA_FILENAME=t.isWindows?"java.exe":"java",t.JAVAC_FILENAME=t.isWindows?"javac.exe":"javac",t.looksLikeJavaHome=function(e){const t=e.toLocaleLowerCase();return t.includes("jdk")||t.includes("java")},t.deDup=function(e){return Array.from(new Set(e))},t.expandTilde=d,t.getRealHome=function(e){return s(this,void 0,void 0,(function*(){const n=d((0,u.join)(e,"bin",t.JAVA_FILENAME));try{const e=yield a.promises.realpath(n);return(0,u.dirname)((0,u.dirname)(e))}catch(e){l.log(e)}}))}},283:(e,t,n)=>{const r=n(70),i=n(928),o=n(16),s=n(224),a=(e,t)=>"boolean"==typeof e?e:t,c=(e,t)=>"string"==typeof e?e:t,u={noSort:!1,readEntries:!1,method:r.Constants.NONE,fs:null};e.exports=function(e,t){let n=null;const l=Object.assign(Object.create(null),u);e&&"object"==typeof e&&(e instanceof Uint8Array||(Object.assign(l,e),e=l.input?l.input:void 0,l.input&&delete l.input),Buffer.isBuffer(e)&&(n=e,l.method=r.Constants.BUFFER,e=void 0)),Object.assign(l,t);const d=new r(l);if(e&&"string"==typeof e){if(!d.fs.existsSync(e))throw new Error(r.Errors.INVALID_FILENAME);l.method=r.Constants.FILE,l.filename=e,n=d.fs.readFileSync(e)}const f=new s(n,l),{canonical:h,sanitize:p}=r;function m(e){var t;return e&&f&&("string"==typeof e&&(t=f.getEntry(e)),"object"==typeof e&&void 0!==e.entryName&&void 0!==e.header&&(t=f.getEntry(e.entryName)),t)?t:null}function v(e){const{join:t,normalize:n,sep:r}=i.posix;return t(".",n(r+e.split("\\").join(r)+r))}return{readFile:function(e,t){var n=m(e);return n&&n.getData(t)||null},readFileAsync:function(e,t){var n=m(e);n?n.getDataAsync(t):t(null,"getEntry failed for:"+e)},readAsText:function(e,t){var n=m(e);if(n){var r=n.getData();if(r&&r.length)return r.toString(t||"utf8")}return""},readAsTextAsync:function(e,t,n){var r=m(e);r?r.getDataAsync((function(e,r){r?t(e,r):e&&e.length?t(e.toString(n||"utf8")):t("")})):t("")},deleteFile:function(e){var t=m(e);t&&f.deleteEntry(t.entryName)},addZipComment:function(e){f.comment=e},getZipComment:function(){return f.comment||""},addZipEntryComment:function(e,t){var n=m(e);n&&(n.comment=t)},getZipEntryComment:function(e){var t=m(e);return t&&t.comment||""},updateFile:function(e,t){var n=m(e);n&&n.setData(t)},addLocalFile:function(e,t,n,i){if(!d.fs.existsSync(e))throw new Error(r.Errors.FILE_NOT_FOUND.replace("%s",e));{t=t?v(t):"";var o=e.split("\\").join("/").split("/").pop();t+=n||o;const r=d.fs.statSync(e);this.addFile(t,d.fs.readFileSync(e),i,r)}},addLocalFolder:function(e,t,n,o){var s;if(n instanceof RegExp?(s=n,n=function(e){return s.test(e)}):"function"!=typeof n&&(n=function(){return!0}),t=t?v(t):"",e=i.normalize(e),!d.fs.existsSync(e))throw new Error(r.Errors.FILE_NOT_FOUND.replace("%s",e));{const r=d.findFiles(e),s=this;r.length&&r.forEach((function(r){var a=i.relative(e,r).split("\\").join("/");if(n(a)){var c=d.fs.statSync(r);c.isFile()?s.addFile(t+a,d.fs.readFileSync(r),"",o||c):s.addFile(t+a+"/",Buffer.alloc(0),"",o||c)}}))}},addLocalFolderAsync:function(e,t,n,o){var s;o instanceof RegExp?(s=o,o=function(e){return s.test(e)}):"function"!=typeof o&&(o=function(){return!0}),n=n?v(n):"",e=i.normalize(e);var a=this;d.fs.open(e,"r",(function(s){if(s&&"ENOENT"===s.code)t(void 0,r.Errors.FILE_NOT_FOUND.replace("%s",e));else if(s)t(void 0,s);else{var c=d.findFiles(e),u=-1,l=function(){if((u+=1)<c.length){var r=c[u],s=i.relative(e,r).split("\\").join("/");s=s.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),o(s)?d.fs.stat(r,(function(e,i){e&&t(void 0,e),i.isFile()?d.fs.readFile(r,(function(e,r){e?t(void 0,e):(a.addFile(n+s,r,"",i),l())})):(a.addFile(n+s+"/",Buffer.alloc(0),"",i),l())})):process.nextTick((()=>{l()}))}else t(!0,void 0)};l()}}))},addLocalFolderPromise:function(e,t){return new Promise(((n,r)=>{const{filter:i,zipPath:o}=Object.assign({},t);this.addLocalFolderAsync(e,((e,t)=>{t&&r(t),e&&n(this)}),o,i)}))},addFile:function(e,t,n,r){let i=m(e);const s=null!=i;s||(i=new o,i.entryName=e),i.comment=n||"";const a="object"==typeof r&&r instanceof d.fs.Stats;a&&(i.header.time=r.mtime);var c=i.isDirectory?16:0;let u=i.isDirectory?16384:32768;u|=a?4095&r.mode:"number"==typeof r?4095&r:i.isDirectory?493:420,c=(c|u<<16)>>>0,i.attr=c,i.setData(t),s||f.setEntry(i)},getEntries:function(e){return f.password=e,f?f.entries:[]},getEntry:function(e){return m(e)},getEntryCount:function(){return f.getEntryCount()},forEach:function(e){return f.forEach(e)},extractEntryTo:function(e,t,n,o,s,u){o=a(o,!1),s=a(s,!1),n=a(n,!0),u=c(u,c(s,void 0));var l=m(e);if(!l)throw new Error(r.Errors.NO_ENTRY);var v=h(l.entryName),E=p(t,u&&!l.isDirectory?u:n?v:i.basename(v));if(l.isDirectory)return f.getEntryChildren(l).forEach((function(e){if(e.isDirectory)return;var a=e.getData();if(!a)throw new Error(r.Errors.CANT_EXTRACT_FILE);var c=h(e.entryName),u=p(t,n?c:i.basename(c));const l=s?e.header.fileAttr:void 0;d.writeFileTo(u,a,o,l)})),!0;var g=l.getData(f.password);if(!g)throw new Error(r.Errors.CANT_EXTRACT_FILE);if(d.fs.existsSync(E)&&!o)throw new Error(r.Errors.CANT_OVERRIDE);const y=s?e.header.fileAttr:void 0;return d.writeFileTo(E,g,o,y),!0},test:function(e){if(!f)return!1;for(var t in f.entries)try{if(t.isDirectory)continue;if(!f.entries[t].getData(e))return!1}catch(e){return!1}return!0},extractAllTo:function(e,t,n,i){if(t=a(t,!1),i=c(n,i),n=a(n,!1),!f)throw new Error(r.Errors.NO_ZIP);f.entries.forEach((function(o){var s=p(e,h(o.entryName.toString()));if(o.isDirectory)return void d.makeDir(s);var a=o.getData(i);if(!a)throw new Error(r.Errors.CANT_EXTRACT_FILE);const c=n?o.header.fileAttr:void 0;d.writeFileTo(s,a,t,c);try{d.fs.utimesSync(s,o.header.time,o.header.time)}catch(e){throw new Error(r.Errors.CANT_EXTRACT_FILE)}}))},extractAllToAsync:function(e,t,n,o){if(t=a(t,!1),"function"!=typeof n||o||(o=n),n=a(n,!1),o||(o=function(e){throw new Error(e)}),!f)return void o(new Error(r.Errors.NO_ZIP));e=i.resolve(e);const s=t=>p(e,i.normalize(h(t.entryName.toString()))),c=(e,t)=>new Error(e+': "'+t+'"'),u=[],l=new Set;f.entries.forEach((e=>{e.isDirectory?u.push(e):l.add(e)}));for(const e of u){const t=s(e),r=n?e.header.fileAttr:void 0;try{d.makeDir(t),r&&d.fs.chmodSync(t,r),d.fs.utimesSync(t,e.header.time,e.header.time)}catch(e){o(c("Unable to create folder",t))}}const m=()=>{0===l.size&&o()};for(const s of l.values()){const a=i.normalize(h(s.entryName.toString())),u=p(e,a);s.getDataAsync((function(e,i){if(i)o(new Error(i));else if(e){const r=n?s.header.fileAttr:void 0;d.writeFileToAsync(u,e,t,r,(function(e){e?d.fs.utimes(u,s.header.time,s.header.time,(function(e){e?o(c("Unable to set times",u)):(m(),l.delete(s))})):o(c("Unable to write file",u))}))}else o(new Error(r.Errors.CANT_EXTRACT_FILE))}))}m()},writeZip:function(e,t){if(1===arguments.length&&"function"==typeof e&&(t=e,e=""),!e&&l.filename&&(e=l.filename),e){var n=f.compressToBuffer();if(n){var r=d.writeFileTo(e,n,!0);"function"==typeof t&&t(r?null:new Error("failed"),"")}}},writeZipPromise:function(e,t){const{overwrite:n,perm:r}=Object.assign({overwrite:!0},t);return new Promise(((t,i)=>{!e&&l.filename&&(e=l.filename),e||i("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then((o=>{d.writeFileToAsync(e,o,n,r,(e=>e?t(e):i("ADM-ZIP: Wasn't able to write zip file")))}),i)}))},toBufferPromise:function(){return new Promise(((e,t)=>{f.toAsyncBuffer(e,t)}))},toBuffer:function(e,t,n,r){return this.valueOf=2,"function"==typeof e?(f.toAsyncBuffer(e,t,n,r),null):f.compressToBuffer()}}}},593:(e,t,n)=>{var r=n(70),i=r.Constants;e.exports=function(){var e=20,t=10,n=0,o=0,s=0,a=0,c=0,u=0,l=0,d=0,f=0,h=0,p=0,m=0,v=0;e|=r.isWin?2560:768,n|=i.FLG_EFS;var E={};function g(e){e=new Date(e),s=(e.getFullYear()-1980&127)<<25|e.getMonth()+1<<21|e.getDate()<<16|e.getHours()<<11|e.getMinutes()<<5|e.getSeconds()>>1}return g(+new Date),{get made(){return e},set made(t){e=t},get version(){return t},set version(e){t=e},get flags(){return n},set flags(e){n=e},get method(){return o},set method(e){switch(e){case i.STORED:this.version=10;case i.DEFLATED:default:this.version=20}o=e},get time(){return new Date(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1)},set time(e){g(e)},get timeHighByte(){return s>>>8&255},get crc(){return a},set crc(e){a=Math.max(0,e)>>>0},get compressedSize(){return c},set compressedSize(e){c=Math.max(0,e)>>>0},get size(){return u},set size(e){u=Math.max(0,e)>>>0},get fileNameLength(){return l},set fileNameLength(e){l=e},get extraLength(){return d},set extraLength(e){d=e},get commentLength(){return f},set commentLength(e){f=e},get diskNumStart(){return h},set diskNumStart(e){h=Math.max(0,e)>>>0},get inAttr(){return p},set inAttr(e){p=Math.max(0,e)>>>0},get attr(){return m},set attr(e){m=Math.max(0,e)>>>0},get fileAttr(){return m?m>>>0>>16&4095:0},get offset(){return v},set offset(e){v=Math.max(0,e)>>>0},get encripted(){return!(1&~n)},get entryHeaderSize(){return i.CENHDR+l+d+f},get realDataOffset(){return v+i.LOCHDR+E.fnameLen+E.extraLen},get dataHeader(){return E},loadDataHeaderFromBinary:function(e){var t=e.slice(v,v+i.LOCHDR);if(t.readUInt32LE(0)!==i.LOCSIG)throw new Error(r.Errors.INVALID_LOC);E={version:t.readUInt16LE(i.LOCVER),flags:t.readUInt16LE(i.LOCFLG),method:t.readUInt16LE(i.LOCHOW),time:t.readUInt32LE(i.LOCTIM),crc:t.readUInt32LE(i.LOCCRC),compressedSize:t.readUInt32LE(i.LOCSIZ),size:t.readUInt32LE(i.LOCLEN),fnameLen:t.readUInt16LE(i.LOCNAM),extraLen:t.readUInt16LE(i.LOCEXT)}},loadFromBinary:function(E){if(E.length!==i.CENHDR||E.readUInt32LE(0)!==i.CENSIG)throw new Error(r.Errors.INVALID_CEN);e=E.readUInt16LE(i.CENVEM),t=E.readUInt16LE(i.CENVER),n=E.readUInt16LE(i.CENFLG),o=E.readUInt16LE(i.CENHOW),s=E.readUInt32LE(i.CENTIM),a=E.readUInt32LE(i.CENCRC),c=E.readUInt32LE(i.CENSIZ),u=E.readUInt32LE(i.CENLEN),l=E.readUInt16LE(i.CENNAM),d=E.readUInt16LE(i.CENEXT),f=E.readUInt16LE(i.CENCOM),h=E.readUInt16LE(i.CENDSK),p=E.readUInt16LE(i.CENATT),m=E.readUInt32LE(i.CENATX),v=E.readUInt32LE(i.CENOFF)},dataHeaderToBinary:function(){var e=Buffer.alloc(i.LOCHDR);return e.writeUInt32LE(i.LOCSIG,0),e.writeUInt16LE(t,i.LOCVER),e.writeUInt16LE(n,i.LOCFLG),e.writeUInt16LE(o,i.LOCHOW),e.writeUInt32LE(s,i.LOCTIM),e.writeUInt32LE(a,i.LOCCRC),e.writeUInt32LE(c,i.LOCSIZ),e.writeUInt32LE(u,i.LOCLEN),e.writeUInt16LE(l,i.LOCNAM),e.writeUInt16LE(d,i.LOCEXT),e},entryHeaderToBinary:function(){var r=Buffer.alloc(i.CENHDR+l+d+f);return r.writeUInt32LE(i.CENSIG,0),r.writeUInt16LE(e,i.CENVEM),r.writeUInt16LE(t,i.CENVER),r.writeUInt16LE(n,i.CENFLG),r.writeUInt16LE(o,i.CENHOW),r.writeUInt32LE(s,i.CENTIM),r.writeUInt32LE(a,i.CENCRC),r.writeUInt32LE(c,i.CENSIZ),r.writeUInt32LE(u,i.CENLEN),r.writeUInt16LE(l,i.CENNAM),r.writeUInt16LE(d,i.CENEXT),r.writeUInt16LE(f,i.CENCOM),r.writeUInt16LE(h,i.CENDSK),r.writeUInt16LE(p,i.CENATT),r.writeUInt32LE(m,i.CENATX),r.writeUInt32LE(v,i.CENOFF),r.fill(0,i.CENHDR),r},toJSON:function(){const s=function(e){return e+" bytes"};return{made:e,version:t,flags:n,method:r.methodToString(o),time:this.time,crc:"0x"+a.toString(16).toUpperCase(),compressedSize:s(c),size:s(u),fileNameLength:s(l),extraLength:s(d),commentLength:s(f),diskNumStart:h,inAttr:p,attr:m,offset:v,entryHeaderSize:s(i.CENHDR+l+d+f)}},toString:function(){return JSON.stringify(this.toJSON(),null,"\t")}}}},780:(e,t,n)=>{t.EntryHeader=n(593),t.MainHeader=n(138)},138:(e,t,n)=>{var r=n(70),i=r.Constants;e.exports=function(){var e=0,t=0,n=0,o=0,s=0;return{get diskEntries(){return e},set diskEntries(n){e=t=n},get totalEntries(){return t},set totalEntries(n){t=e=n},get size(){return n},set size(e){n=e},get offset(){return o},set offset(e){o=e},get commentLength(){return s},set commentLength(e){s=e},get mainHeaderSize(){return i.ENDHDR+s},loadFromBinary:function(a){if((a.length!==i.ENDHDR||a.readUInt32LE(0)!==i.ENDSIG)&&(a.length<i.ZIP64HDR||a.readUInt32LE(0)!==i.ZIP64SIG))throw new Error(r.Errors.INVALID_END);a.readUInt32LE(0)===i.ENDSIG?(e=a.readUInt16LE(i.ENDSUB),t=a.readUInt16LE(i.ENDTOT),n=a.readUInt32LE(i.ENDSIZ),o=a.readUInt32LE(i.ENDOFF),s=a.readUInt16LE(i.ENDCOM)):(e=r.readBigUInt64LE(a,i.ZIP64SUB),t=r.readBigUInt64LE(a,i.ZIP64TOT),n=r.readBigUInt64LE(a,i.ZIP64SIZE),o=r.readBigUInt64LE(a,i.ZIP64OFF),s=0)},toBinary:function(){var r=Buffer.alloc(i.ENDHDR+s);return r.writeUInt32LE(i.ENDSIG,0),r.writeUInt32LE(0,4),r.writeUInt16LE(e,i.ENDSUB),r.writeUInt16LE(t,i.ENDTOT),r.writeUInt32LE(n,i.ENDSIZ),r.writeUInt32LE(o,i.ENDOFF),r.writeUInt16LE(s,i.ENDCOM),r.fill(" ",i.ENDHDR),r},toJSON:function(){return{diskEntries:e,totalEntries:t,size:n+" bytes",offset:function(e){let t=e.toString(16).toUpperCase();for(;t.length<4;)t="0"+t;return"0x"+t}(o),commentLength:s}},toString:function(){return JSON.stringify(this.toJSON(),null,"\t")}}}},601:(e,t,n)=>{e.exports=function(e){var t=n(106),r={chunkSize:1024*(parseInt(e.length/1024)+1)};return{deflate:function(){return t.deflateRawSync(e,r)},deflateAsync:function(n){var i=t.createDeflateRaw(r),o=[],s=0;i.on("data",(function(e){o.push(e),s+=e.length})),i.on("end",(function(){var e=Buffer.alloc(s),t=0;e.fill(0);for(var r=0;r<o.length;r++){var i=o[r];i.copy(e,t),t+=i.length}n&&n(e)})),i.end(e)}}}},776:(e,t,n)=>{t.Deflater=n(601),t.Inflater=n(821),t.ZipCrypto=n(14)},821:(e,t,n)=>{e.exports=function(e){var t=n(106);return{inflate:function(){return t.inflateRawSync(e)},inflateAsync:function(n){var r=t.createInflateRaw(),i=[],o=0;r.on("data",(function(e){i.push(e),o+=e.length})),r.on("end",(function(){var e=Buffer.alloc(o),t=0;e.fill(0);for(var r=0;r<i.length;r++){var s=i[r];s.copy(e,t),t+=s.length}n&&n(e)})),r.end(e)}}}},14:(e,t,n)=>{"use strict";const{randomFillSync:r}=n(982),i=new Uint32Array(256).map(((e,t)=>{for(let e=0;e<8;e++)1&t?t=t>>>1^3988292384:t>>>=1;return t>>>0})),o=(e,t)=>Math.imul(e,t)>>>0,s=(e,t)=>i[255&(e^t)]^e>>>8,a=()=>"function"==typeof r?r(Buffer.alloc(12)):a.node();a.node=()=>{const e=Buffer.alloc(12),t=e.length;for(let n=0;n<t;n++)e[n]=256*Math.random()&255;return e};const c={genSalt:a};function u(e){const t=Buffer.isBuffer(e)?e:Buffer.from(e);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let e=0;e<t.length;e++)this.updateKeys(t[e])}u.prototype.updateKeys=function(e){const t=this.keys;return t[0]=s(t[0],e),t[1]+=255&t[0],t[1]=o(t[1],134775813)+1,t[2]=s(t[2],t[1]>>>24),e},u.prototype.next=function(){const e=(2|this.keys[2])>>>0;return o(e,1^e)>>8&255},e.exports={decrypt:function(e,t,n){if(!e||!Buffer.isBuffer(e)||e.length<12)return Buffer.alloc(0);const r=function(e){const t=new u(e);return function(e){const n=Buffer.alloc(e.length);let r=0;for(let i of e)n[r++]=t.updateKeys(i^t.next());return n}}(n),i=r(e.slice(0,12)),o=8&~t.flags?t.crc>>>24:t.timeHighByte;if(i[11]!==o)throw"ADM-ZIP: Wrong Password";return r(e.slice(12))},encrypt:function(e,t,n,r=!1){null==e&&(e=Buffer.alloc(0)),Buffer.isBuffer(e)||(e=Buffer.from(e.toString()));const i=function(e){const t=new u(e);return function(e,n,r=0){n||(n=Buffer.alloc(e.length));for(let i of e){const e=t.next();n[r++]=i^e,t.updateKeys(i)}return n}}(n),o=c.genSalt();o[11]=t.crc>>>24&255,r&&(o[10]=t.crc>>>16&255);const s=Buffer.alloc(e.length+12);return i(o,s),i(e,s,12)},_salter:function(e){Buffer.isBuffer(e)&&e.length>=12?c.genSalt=function(){return e.slice(0,12)}:c.genSalt="node"===e?a.node:a}}},383:e=>{e.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}},243:e=>{e.exports={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"}},819:(e,t,n)=>{const r=n(807).require(),i=n(928);r.existsSync=r.existsSync||i.existsSync,e.exports=function(e){var t=e||"",n={directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0},o=null;return t&&r.existsSync(t)?(o=r.statSync(t),n.directory=o.isDirectory(),n.mtime=o.mtime,n.atime=o.atime,n.executable=!!(73&o.mode),n.readonly=!(128&o.mode),n.hidden="."===i.basename(t)[0]):console.warn("Invalid path: "+t),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:t,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"\t")}}}},807:(e,t,n)=>{t.require=function(){if("object"==typeof process&&process.versions&&process.versions.electron)try{const e=n(Object(function(){var e=new Error("Cannot find module 'original-fs'");throw e.code="MODULE_NOT_FOUND",e}()));if(Object.keys(e).length>0)return e}catch(e){}return n(896)}},70:(e,t,n)=>{e.exports=n(527),e.exports.Constants=n(383),e.exports.Errors=n(243),e.exports.FileAttr=n(819)},527:(e,t,n)=>{const r=n(807).require(),i=n(928),o=n(383),s=n(243),a="object"==typeof process&&"win32"===process.platform,c=e=>e&&"object"==typeof e,u=new Uint32Array(256).map(((e,t)=>{for(let e=0;e<8;e++)1&t?t=3988292384^t>>>1:t>>>=1;return t>>>0}));function l(e){this.sep=i.sep,this.fs=r,c(e)&&c(e.fs)&&"function"==typeof e.fs.statSync&&(this.fs=e.fs)}e.exports=l,l.prototype.makeDir=function(e){const t=this;!function(e){let n=e.split(t.sep)[0];e.split(t.sep).forEach((function(e){if(e&&":"!==e.substr(-1,1)){var r;n+=t.sep+e;try{r=t.fs.statSync(n)}catch(e){t.fs.mkdirSync(n)}if(r&&r.isFile())throw s.FILE_IN_THE_WAY.replace("%s",n)}}))}(e)},l.prototype.writeFileTo=function(e,t,n,r){const o=this;if(o.fs.existsSync(e)){if(!n)return!1;if(o.fs.statSync(e).isDirectory())return!1}var s,a=i.dirname(e);o.fs.existsSync(a)||o.makeDir(a);try{s=o.fs.openSync(e,"w",438)}catch(t){o.fs.chmodSync(e,438),s=o.fs.openSync(e,"w",438)}if(s)try{o.fs.writeSync(s,t,0,t.length,0)}finally{o.fs.closeSync(s)}return o.fs.chmodSync(e,r||438),!0},l.prototype.writeFileToAsync=function(e,t,n,r,o){"function"==typeof r&&(o=r,r=void 0);const s=this;s.fs.exists(e,(function(a){if(a&&!n)return o(!1);s.fs.stat(e,(function(n,c){if(a&&c.isDirectory())return o(!1);var u=i.dirname(e);s.fs.exists(u,(function(n){n||s.makeDir(u),s.fs.open(e,"w",438,(function(n,i){n?s.fs.chmod(e,438,(function(){s.fs.open(e,"w",438,(function(n,i){s.fs.write(i,t,0,t.length,0,(function(){s.fs.close(i,(function(){s.fs.chmod(e,r||438,(function(){o(!0)}))}))}))}))})):i?s.fs.write(i,t,0,t.length,0,(function(){s.fs.close(i,(function(){s.fs.chmod(e,r||438,(function(){o(!0)}))}))})):s.fs.chmod(e,r||438,(function(){o(!0)}))}))}))}))}))},l.prototype.findFiles=function(e){const t=this;return function e(n,r,o){"boolean"==typeof r&&(o=r,r=void 0);let s=[];return t.fs.readdirSync(n).forEach((function(a){var c=i.join(n,a);t.fs.statSync(c).isDirectory()&&o&&(s=s.concat(e(c,r,o))),r&&!r.test(c)||s.push(i.normalize(c)+(t.fs.statSync(c).isDirectory()?t.sep:""))})),s}(e,void 0,!0)},l.prototype.getAttributes=function(){},l.prototype.setAttributes=function(){},l.crc32update=function(e,t){return u[255&(e^t)]^e>>>8},l.crc32=function(e){"string"==typeof e&&(e=Buffer.from(e,"utf8")),u.length||genCRCTable();let t=e.length,n=-1;for(let r=0;r<t;)n=l.crc32update(n,e[r++]);return~n>>>0},l.methodToString=function(e){switch(e){case o.STORED:return"STORED ("+e+")";case o.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}},l.canonical=function(e){if(!e)return"";var t=i.posix.normalize("/"+e.split("\\").join("/"));return i.join(".",t)},l.sanitize=function(e,t){e=i.resolve(i.normalize(e));for(var n=t.split("/"),r=0,o=n.length;r<o;r++){var s=i.normalize(i.join(e,n.slice(r,o).join(i.sep)));if(0===s.indexOf(e))return s}return i.normalize(i.join(e,i.basename(t)))},l.toBuffer=function(e){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e):"string"==typeof e?Buffer.from(e,"utf8"):Buffer.alloc(0)},l.readBigUInt64LE=function(e,t){var n=Buffer.from(e.slice(t,t+8));return n.swap64(),parseInt(`0x${n.toString("hex")}`)},l.isWin=a,l.crcTable=u},16:(e,t,n)=>{var r=n(70),i=n(780),o=r.Constants,s=n(776);e.exports=function(e){var t=new i.EntryHeader,n=Buffer.alloc(0),a=Buffer.alloc(0),c=!1,u=null,l=Buffer.alloc(0);function d(){return e&&Buffer.isBuffer(e)?(t.loadDataHeaderFromBinary(e),e.slice(t.realDataOffset,t.realDataOffset+t.compressedSize)):Buffer.alloc(0)}function f(e){return!(8&~t.flags&&r.crc32(e)!==t.dataHeader.crc)}function h(e,i,o){if(void 0===i&&"string"==typeof e&&(o=e,e=void 0),c)return e&&i&&i(Buffer.alloc(0),r.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var a=d();if(0===a.length)return e&&i&&i(a),a;if(t.encripted){if("string"!=typeof o&&!Buffer.isBuffer(o))throw new Error("ADM-ZIP: Incompatible password parameter");a=s.ZipCrypto.decrypt(a,t,o)}var u=Buffer.alloc(t.size);switch(t.method){case r.Constants.STORED:if(a.copy(u),f(u))return e&&i&&i(u),u;throw e&&i&&i(u,r.Errors.BAD_CRC),new Error(r.Errors.BAD_CRC);case r.Constants.DEFLATED:var l=new s.Inflater(a);if(!e){if(l.inflate(u).copy(u,0),!f(u))throw new Error(r.Errors.BAD_CRC+" "+n.toString());return u}l.inflateAsync((function(e){e.copy(e,0),i&&(f(e)?i(e):i(e,r.Errors.BAD_CRC))}));break;default:throw e&&i&&i(Buffer.alloc(0),r.Errors.UNKNOWN_METHOD),new Error(r.Errors.UNKNOWN_METHOD)}}function p(n,i){if((!u||!u.length)&&Buffer.isBuffer(e))return n&&i&&i(d()),d();if(u.length&&!c){var o;switch(t.method){case r.Constants.STORED:return t.compressedSize=t.size,o=Buffer.alloc(u.length),u.copy(o),n&&i&&i(o),o;default:case r.Constants.DEFLATED:var a=new s.Deflater(u);if(!n){var l=a.deflate();return t.compressedSize=l.length,l}a.deflateAsync((function(e){o=Buffer.alloc(e.length),t.compressedSize=e.length,e.copy(o),i&&i(o)})),a=null}}else{if(!n||!i)return Buffer.alloc(0);i(Buffer.alloc(0))}}function m(e,t){return(e.readUInt32LE(t+4)<<4)+e.readUInt32LE(t)}function v(e){var n,r,i,s;e.length>=o.EF_ZIP64_SCOMP&&(n=m(e,o.EF_ZIP64_SUNCOMP),t.size===o.EF_ZIP64_OR_32&&(t.size=n)),e.length>=o.EF_ZIP64_RHO&&(r=m(e,o.EF_ZIP64_SCOMP),t.compressedSize===o.EF_ZIP64_OR_32&&(t.compressedSize=r)),e.length>=o.EF_ZIP64_DSN&&(i=m(e,o.EF_ZIP64_RHO),t.offset===o.EF_ZIP64_OR_32&&(t.offset=i)),e.length>=o.EF_ZIP64_DSN+4&&(s=e.readUInt32LE(o.EF_ZIP64_DSN),t.diskNumStart===o.EF_ZIP64_OR_16&&(t.diskNumStart=s))}return{get entryName(){return n.toString()},get rawEntryName(){return n},set entryName(e){var i=(n=r.toBuffer(e))[n.length-1];c=47===i||92===i,t.fileNameLength=n.length},get extra(){return l},set extra(e){l=e,t.extraLength=e.length,function(e){for(var t,n,r,i=0;i<e.length;)t=e.readUInt16LE(i),i+=2,n=e.readUInt16LE(i),i+=2,r=e.slice(i,i+n),i+=n,o.ID_ZIP64===t&&v(r)}(e)},get comment(){return a.toString()},set comment(e){a=r.toBuffer(e),t.commentLength=a.length},get name(){var e=n.toString();return c?e.substr(e.length-1).split("/").pop():e.split("/").pop()},get isDirectory(){return c},getCompressedData:function(){return p(!1,null)},getCompressedDataAsync:function(e){p(!0,e)},setData:function(e){u=r.toBuffer(e),!c&&u.length?(t.size=u.length,t.method=r.Constants.DEFLATED,t.crc=r.crc32(e),t.changed=!0):t.method=r.Constants.STORED},getData:function(e){return t.changed?u:h(!1,null,e)},getDataAsync:function(e,n){t.changed?e(u):h(!0,e,n)},set attr(e){t.attr=e},get attr(){return t.attr},set header(e){t.loadFromBinary(e)},get header(){return t},packHeader:function(){var e=t.entryHeaderToBinary(),i=r.Constants.CENHDR;return n.copy(e,i),i+=n.length,t.extraLength&&(l.copy(e,i),i+=t.extraLength),t.commentLength&&a.copy(e,i),e},toJSON:function(){const n=function(e){return"<"+(e&&e.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:t.toJSON(),compressedData:n(e),data:n(u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"\t")}}}},224:(e,t,n)=>{const r=n(16),i=n(780),o=n(70);e.exports=function(e,t){var n=[],s={},a=Buffer.alloc(0),c=new i.MainHeader,u=!1;const l=Object.assign(Object.create(null),t),{noSort:d}=l;function f(){u=!0,s={},n=new Array(c.diskEntries);for(var t=c.offset,i=0;i<n.length;i++){var a=t,l=new r(e);l.header=e.slice(a,a+=o.Constants.CENHDR),l.entryName=e.slice(a,a+=l.header.fileNameLength),l.header.extraLength&&(l.extra=e.slice(a,a+=l.header.extraLength)),l.header.commentLength&&(l.comment=e.slice(a,a+l.header.commentLength)),t+=l.header.entryHeaderSize,n[i]=l,s[l.entryName]=l}}function h(){n.length>1&&!d&&n.sort(((e,t)=>e.entryName.toLowerCase().localeCompare(t.entryName.toLowerCase())))}return e?function(t){for(var n=e.length-o.Constants.ENDHDR,r=Math.max(0,n-65535),i=r,s=e.length,u=-1,l=0;n>=i;n--)if(80===e[n])if(e.readUInt32LE(n)!==o.Constants.ENDSIG)if(e.readUInt32LE(n)!==o.Constants.END64SIG){if(e.readUInt32LE(n)===o.Constants.ZIP64SIG){u=n,s=n+o.readBigUInt64LE(e,n+o.Constants.ZIP64SIZE)+o.Constants.ZIP64LEAD;break}}else i=r;else u=n,l=n,s=n+o.Constants.ENDHDR,i=n-o.Constants.END64HDR;if(!~u)throw new Error(o.Errors.INVALID_FORMAT);c.loadFromBinary(e.slice(u,s)),c.commentLength&&(a=e.slice(l+o.Constants.ENDHDR)),t&&f()}(l.readEntries):u=!0,{get entries(){return u||f(),n},get comment(){return a.toString()},set comment(e){a=o.toBuffer(e),c.commentLength=a.length},getEntryCount:function(){return u?n.length:c.diskEntries},forEach:function(t){u?n.forEach(t):function(t){const n=c.diskEntries;let i=c.offset;for(let s=0;s<n;s++){let n=i;const s=new r(e);s.header=e.slice(n,n+=o.Constants.CENHDR),s.entryName=e.slice(n,n+=s.header.fileNameLength),i+=s.header.entryHeaderSize,t(s)}}(t)},getEntry:function(e){return u||f(),s[e]||null},setEntry:function(e){u||f(),n.push(e),s[e.entryName]=e,c.totalEntries=n.length},deleteEntry:function(e){u||f();var t=s[e];if(t&&t.isDirectory){var r=this;this.getEntryChildren(t).forEach((function(t){t.entryName!==e&&r.deleteEntry(t.entryName)}))}n.splice(n.indexOf(t),1),delete s[e],c.totalEntries=n.length},getEntryChildren:function(e){if(u||f(),e&&e.isDirectory){const t=[],r=e.entryName,i=r.length;return n.forEach((function(e){e.entryName.substr(0,i)===r&&t.push(e)})),t}return[]},compressToBuffer:function(){u||f(),h();const e=[],t=[];let r=0,i=0;c.size=0,c.offset=0;for(const o of n){const n=o.getCompressedData();o.header.offset=i;const s=o.header.dataHeaderToBinary(),a=o.rawEntryName.length,u=Buffer.alloc(a+o.extra.length);o.rawEntryName.copy(u,0),o.extra.copy(u,a);const l=s.length+u.length+n.length;i+=l,e.push(s),e.push(u),e.push(n);const d=o.packHeader();t.push(d),c.size+=d.length,r+=l+d.length}r+=c.mainHeaderSize,c.offset=i,i=0;const s=Buffer.alloc(r);for(const t of e)t.copy(s,i),i+=t.length;for(const e of t)e.copy(s,i),i+=e.length;const l=c.toBinary();return a&&a.copy(l,o.Constants.ENDHDR),l.copy(s,i),s},toAsyncBuffer:function(e,t,r,i){try{u||f(),h();const t=[],s=[];let l=0,d=0;c.size=0,c.offset=0;const p=function(n){if(n.length){const e=n.pop(),o=e.entryName+e.extra.toString();r&&r(o),e.getCompressedDataAsync((function(r){i&&i(o),e.header.offset=d;const a=e.header.dataHeaderToBinary(),u=Buffer.alloc(o.length,o),f=a.length+u.length+r.length;d+=f,t.push(a),t.push(u),t.push(r);const h=e.packHeader();s.push(h),c.size+=h.length,l+=f+h.length,p(n)}))}else{l+=c.mainHeaderSize,c.offset=d,d=0;const n=Buffer.alloc(l);t.forEach((function(e){e.copy(n,d),d+=e.length})),s.forEach((function(e){e.copy(n,d),d+=e.length}));const r=c.toBinary();a&&a.copy(r,o.Constants.ENDHDR),r.copy(n,d),e(n)}};p(n)}catch(e){t(e)}}}}},465:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.__writeProject=t.createProject=t.creatorInit=t.HTTPS_PROTOCOL=t.HTTP_PROTOCOL=void 0;const i=n(980),o=n(317),s=n(896),a=n(692),c=n(928),u=n(857),l=n(283),d=n(185),f=n(834),h=n(574),p=n(702),m=n(56);t.HTTP_PROTOCOL="http://",t.HTTPS_PROTOCOL="https://";const v="https://launch.micronaut.io",E="https://snapshot.micronaut.io",g="/application-types",y="/select-options",w="/features",_="/versions",O="/create",I="lastCreateProjectParentDirs",N=17,D="micronaut";let S;function C(e){return r(this,void 0,void 0,(function*(){{let n=!1;if(e.url.startsWith(t.HTTP_PROTOCOL)||e.url.startsWith(t.HTTPS_PROTOCOL))try{const t=yield function(e){return r(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{const r=c.join(u.tmpdir(),e.name+".zip"),i=s.createWriteStream(r);a.get(e.url,(e=>{const{statusCode:o}=e,s=e.headers["content-type"]||"";if(201!==o){let t="";e.on("data",(e=>{t+=e})),e.on("end",(()=>{/^application\/json/.test(s)?n(JSON.parse(t).message):n(`Request failed.\nStatus Code: ${o}`)})),e.on("error",(e=>{n(e.message)}))}else/^application\/zip/.test(s)?(e.pipe(i),i.on("close",(()=>{t(r)})),e.on("error",(e=>{n(e.message)}))):(e.resume(),n(`Invalid content-type.\nExpected application/zip but received ${s}`))})).on("error",(e=>{n(e.message)})).end()}))}))}(e);new l(t).extractAllTo(e.target,!0,!0),s.unlinkSync(t),n=!0}catch(t){s.rmdirSync(e.target,{recursive:!0}),i.window.showErrorMessage(`Cannot create Micronaut project: ${t}`)}else try{n=o.execFileSync(e.url,e.args,{cwd:c.dirname(c.join(e.target,e.name)),env:{JAVA_HOME:(0,f.getJavaHome)()}}).toString().indexOf("Application created")>=0}catch(e){i.window.showErrorMessage(`Cannot create Micronaut project: ${e.message}`)}return n}}))}function L(e){const t=e.match(/(?:Java |JDK_)(\d+)/);return t&&t.length>1?parseInt(t[1]):void 0}function b(e){return r(this,void 0,void 0,(function*(){return e.serviceUrl.startsWith(t.HTTP_PROTOCOL)||e.serviceUrl.startsWith(t.HTTPS_PROTOCOL)?(0,p.downloadJSON)(e.serviceUrl+g).then((e=>JSON.parse(e).types.map((e=>({label:e.title,name:e.name}))))):function(e){const t=[];try{let n=!0;o.execFileSync(e,["--help"],{env:{JAVA_HOME:(0,f.getJavaHome)()}}).toString().split("\n").map((e=>e.trim())).forEach((e=>{if(n)e.startsWith("Commands:")&&(n=!1);else{const n=e.match(/\s*(\S*)\s*Creates an? (.*)/);n&&n.length>=3&&t.push({label:`Micronaut ${n[2]}`,name:n[1]})}}))}catch(e){i.window.showErrorMessage(`Cannot get Micronaut application types: ${e}`)}return t}(e.serviceUrl)}))}function P(){return S}function T(e,t,n){const r=[];let i,s=!0;return o.execFileSync(e,[t,"--list-features",`--java-version=${n}`]).toString().split("\n").map((e=>e.trim())).forEach((e=>{if(s)e.startsWith("------")&&(s=!1);else if(0===e.length)i=void 0;else if(i){const t=e.match(/(\S*)\s*(\[PREVIEW\]|\(\*\))?\s*(.*)/);t&&t.length>=4&&r.push({label:t[1],detail:t[3],category:i,name:t[1]})}else i=e})),r}t.creatorInit=function(){return r(this,void 0,void 0,(function*(){S=void 0;const e=(0,d.getMicronautHome)();if(e){let t=c.join(e,"bin","mn");if("win32"===process.platform&&(t+=".bat"),s.existsSync(t))try{const e=o.execFileSync(t,["--version"],{env:{JAVA_HOME:(0,f.getJavaHome)()}}).toString().match(/.*:\s*(\S*)/);e&&e.length>=2&&(S={label:e[1],serviceUrl:t,description:"(using local CLI)"})}catch(e){i.window.showErrorMessage(`Cannot get Micronaut version: ${e}`)}}}))},t.createProject=function(e){return r(this,void 0,void 0,(function*(){const n=yield function(e){return r(this,void 0,void 0,(function*(){const n="Create Micronaut Project";function o(e){return s()?10:9}function s(){return!!m.canCheckExtensionInstalled(D)&&!m.isExtensionInstalled()}function c(e){var n,i,o,s,c,u,l,d;return r(this,void 0,void 0,(function*(){if(e.micronautVersion&&(e.micronautVersion.serviceUrl.startsWith(t.HTTP_PROTOCOL)||e.micronautVersion.serviceUrl.startsWith(t.HTTPS_PROTOCOL))){let t=`?javaVersion=JDK_${null===(n=e.sourceLevelJava)||void 0===n?void 0:n.value}`;t+=`&lang=${null===(i=e.language)||void 0===i?void 0:i.value}`,null===(o=e.features)||void 0===o||o.forEach((e=>{t+=`&features=${e.name}`}));const f=e.micronautVersion.serviceUrl+O+"/"+(null===(s=e.applicationType)||void 0===s?void 0:s.name)+"/com.example.project"+t,h=yield function(e){return r(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{const r=a.get(e,(e=>{const r=e.headers["content-type"]||"";let i="";e.on("data",(e=>{i+=e})),e.on("end",(()=>{/^application\/json/.test(r)?t({success:!0,data:JSON.parse(i)}):t({success:!1})})),e.on("error",(e=>{n({success:!1,data:e.message})}))})).on("error",(e=>{n({success:!1,data:e})}));setTimeout((()=>{r.abort(),n({success:!1,data:"Timed out"})}),5e3)}))}))}(f);if(!0===(null==h?void 0:h.success)){let e=(null===(c=h.data)||void 0===c?void 0:c.message)?(null===(u=h.data)||void 0===u?void 0:u.message)+": ":"";return e+=null===(d=null===(l=null==h?void 0:h.data)||void 0===l?void 0:l._embedded)||void 0===d?void 0:d.errors[0].message,{success:!1,message:e}}}return{status:!0}}))}const u=yield function(){return r(this,void 0,void 0,(function*(){const e={};return yield h.MultiStepInput.run((a=>function(e,a){return r(this,void 0,void 0,(function*(){const u=yield function(){return r(this,void 0,void 0,(function*(){const e=(0,d.getMicronautLaunchURL)();return(0,h.simpleProgress)("Obtaining Micronaut versions...",(()=>Promise.all([(0,p.downloadJSON)(v+_,5e3).catch((()=>{})).then((e=>e?{label:JSON.parse(e).versions["micronaut.version"],serviceUrl:v}:void 0)),(0,p.downloadJSON)(E+_,5e3).catch((()=>{})).then((e=>e?{label:JSON.parse(e).versions["micronaut.version"],serviceUrl:E}:void 0)),e?(0,p.downloadJSON)(e+_,5e3).catch((()=>{})).then((t=>t?{label:JSON.parse(t).versions["micronaut.version"],serviceUrl:e,description:"(using configured Micronaut Launch URL)"}:void 0)):void 0,P()]).then((e=>{const t=e.filter((e=>void 0!==e));return 0===t.length&&i.window.showErrorMessage("Failed to obtain Micronaut versions.",{modal:!0,detail:"Check your connection and proxy settings."}),t}))))}))}();if(0===u.length)return;const l=yield e.showQuickPick({title:n,step:1,totalSteps:o(),placeholder:"Pick Micronaut version",items:u,activeItems:a.micronautVersion,shouldResume:()=>Promise.resolve(!1)});return a.micronautVersion=l,e=>function(e,a){return r(this,void 0,void 0,(function*(){const u=yield e.showQuickPick({title:n,step:2,totalSteps:o(),placeholder:"Pick application type",items:a.micronautVersion?yield b(a.micronautVersion):[],activeItems:a.applicationType,shouldResume:()=>Promise.resolve(!1)});return a.applicationType=u,e=>function(e,a){return r(this,void 0,void 0,(function*(){const u=a.micronautVersion?yield function(e){return r(this,void 0,void 0,(function*(){return e.serviceUrl.startsWith(t.HTTP_PROTOCOL)||e.serviceUrl.startsWith(t.HTTPS_PROTOCOL)?(0,p.downloadJSON)(e.serviceUrl+y).then((e=>{let t=JSON.parse(e).jdkVersion,n=t.options.map((e=>parseInt(e.label)));return{default:L(t.defaultOption.label)||N,versions:n}})):{default:N,versions:[]}}))}(a.micronautVersion):{default:N,versions:[]},l=u.versions.sort(((e,t)=>t-e)).map((e=>({label:`JDK ${e}`,value:`${e}`}))),d=yield e.showQuickPick({title:n,step:3,totalSteps:o(),placeholder:"Select Java version",items:l,activeItems:a.sourceLevelJava,shouldResume:()=>Promise.resolve(!1)}),f=d?d.value:void 0,h=f||u.default;return a.sourceLevelJava={label:d.label,value:h},f||i.window.showInformationMessage(`Java version not selected. The project will target Java ${u.default}. Adjust the setting in the generated project file(s).`),e=>function(e,a){return r(this,void 0,void 0,(function*(){return a.projectName=yield e.showInputBox({title:n,step:4,totalSteps:o(),value:a.projectName||"demo",prompt:"Provide project name",validate:e=>Promise.resolve(/^[A-Za-z0-9_]([A-Za-z0-9_]|-(?!-))*[A-Za-z0-9_]?$/.test(e)?void 0:'Name cannot start and end with "-" (hyphen), have "--" (sequential hyphen), and can only consist of ASCII letter, digit, "_" (underscore) or "-" (hyphen) characters'),shouldResume:()=>Promise.resolve(!1)}),e=>function(e,a){return r(this,void 0,void 0,(function*(){return a.basePackage=yield e.showInputBox({title:n,step:5,totalSteps:o(),value:a.basePackage||"com.example",prompt:"Provide base package",validate:e=>Promise.resolve(/^[a-z_][a-z0-9_]*(\.[a-z0-9_]+)*$/.test(e)?void 0:"Invalid base package"),shouldResume:()=>Promise.resolve(!1)}),e=>function(e,a){return r(this,void 0,void 0,(function*(){const u=yield e.showQuickPick({title:n,step:6,totalSteps:o(),placeholder:"Pick project language",items:[{label:"Java",value:"JAVA"},{label:"Kotlin",value:"KOTLIN"},{label:"Groovy",value:"GROOVY"}],activeItems:a.language,shouldResume:()=>Promise.resolve(!1)});return a.language=u,e=>function(e,a){return r(this,void 0,void 0,(function*(){const u=a.micronautVersion&&a.applicationType&&a.sourceLevelJava?yield function(e,n,o){return r(this,void 0,void 0,(function*(){const r=(e,t)=>e.category<t.category?-1:e.category>t.category?1:e.label<t.label?-1:1;if(e.serviceUrl.startsWith(t.HTTP_PROTOCOL)||e.serviceUrl.startsWith(t.HTTPS_PROTOCOL))return(0,p.downloadJSON)(e.serviceUrl+g+"/"+n.name+w).then((e=>JSON.parse(e).features.map((e=>({label:e.title,detail:e.description,category:e.category,name:e.name}))).sort(r)));try{return T(e.serviceUrl,n.name,o.value).sort(r)}catch(t){let s=t.message.toString();const a=`Unsupported JDK version: ${o.value}. Supported values are `,c=s.indexOf(a);if(0!==c){const t=s.substring(c+a.length+1,s.length-3).split(", "),i=function(e,t,n=8){if(!e)return n;if(0===t.length)return e;for(let n of t)if(e>=n)return n;return n}(o.value,t);try{const t=T(e.serviceUrl,n.name,i);return o.value=i,t.sort(r)}catch(e){s=e.message.toString()}}return i.window.showErrorMessage(`Cannot get Micronaut features: ${s}`),[]}}))}(a.micronautVersion,a.applicationType,a.sourceLevelJava):[],l=[];let d,f;for(const e of u)e.category!==d&&(d=e.category,l.push({label:d,kind:i.QuickPickItemKind.Separator})),l.push(e);do{const t=yield e.showQuickPick({title:n,step:7,totalSteps:o(),placeholder:"Pick project features",items:l,activeItems:a.features,canSelectMany:!0,shouldResume:()=>Promise.resolve(!1)});a.features=t,f=yield c(a),!1===(null==f?void 0:f.success)&&i.window.showErrorMessage(f.message?f.message:"Invalid features selected")}while(!1===(null==f?void 0:f.success));return e=>function(e,t){return r(this,void 0,void 0,(function*(){const i=yield e.showQuickPick({title:n,step:8,totalSteps:o(),placeholder:"Pick build tool",items:[{label:"Gradle",value:"GRADLE"},{label:"Maven",value:"MAVEN"}],activeItems:t.buildTool,shouldResume:()=>Promise.resolve(!1)});return t.buildTool=i,e=>function(e,t){return r(this,void 0,void 0,(function*(){const i=yield e.showQuickPick({title:n,step:9,totalSteps:o(),placeholder:"Pick test framework",items:[{label:"JUnit",value:"JUNIT"},{label:"Spock",value:"SPOCK"},{label:"Kotlintest",value:"KOTLINTEST"}],activeItems:t.testFramework,shouldResume:()=>Promise.resolve(!1)});return t.testFramework=i,s()?e=>function(e,t){return r(this,void 0,void 0,(function*(){const r=yield e.showQuickPick({title:n,step:10,totalSteps:o(),placeholder:`Install ${m.EXTENSION_NAME} extension?`,items:[{label:"Install",detail:"Install the extension to get full support for MicronautÂ® projects",value:!0},{label:"Skip",detail:"Do not install now",value:void 0},{label:"Never",detail:"Don't ask me again",value:!1}],activeItems:t.installMicronautTools,shouldResume:()=>Promise.resolve(!1)});t.installMicronautTools=r}))}(e,t):void(t.installMicronautTools={label:"Skip",detail:"Do not install now",value:void 0})}))}(e,t)}))}(e,a)}))}(e,a)}))}(e,a)}))}(e,a)}))}(e,a)}))}(e,a)}))}(e,a)}))}(a,e))),e}))}();if(u.micronautVersion&&u.applicationType&&u.projectName&&u.basePackage&&u.language&&u.features&&u.buildTool&&u.testFramework&&u.installMicronautTools){const n=e.globalState.get(I)||new Map,r=`${i.env.remoteName||""}:${i.env.machineId}`,o=n[r];let s,a=u.projectName,c=1;if(o)try{s=i.Uri.parse(o,!0)}catch(e){s=void 0}else s=void 0;const l=yield i.window.showOpenDialog({defaultUri:s,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,title:"Choose Project Directory",openLabel:"Create Here"});if(l&&l.length>0){for(n[r]=l[0].toString(),yield e.globalState.update(I,n);yield(0,f.checkProjectFolderExists)(l[0].fsPath,u.projectName);){for(a!==u.projectName&&(c=1,a=u.projectName.replace(/_\d+$/,"")+"_"+c++);yield(0,f.checkProjectFolderExists)(l[0].fsPath,a);)a=u.projectName.replace(/_\d+$/,"")+"_"+c++;let e=yield(0,f.addNewProjectName)("Create New Micronaut Project",a);if(!e)return;u.projectName=e}let i=u.basePackage;if(i?i+="."+u.projectName:i=u.projectName,u.micronautVersion.serviceUrl.startsWith(t.HTTP_PROTOCOL)||u.micronautVersion.serviceUrl.startsWith(t.HTTPS_PROTOCOL)){let e=`?javaVersion=JDK_${u.sourceLevelJava.value}`;return e+=`&lang=${u.language.value}`,e+=`&build=${u.buildTool.value}`,e+=`&test=${u.testFramework.value}`,u.features.forEach((t=>{e+=`&features=${t.name}`})),{url:u.micronautVersion.serviceUrl+O+"/"+u.applicationType.name+"/"+i+e,name:u.projectName,target:l[0].fsPath,buildTool:u.buildTool.value,installMicronautTools:u.installMicronautTools.value}}let o=[u.applicationType.name];if(o.push(`--lang=${u.language.value}`),o.push(`--build=${u.buildTool.value}`),o.push(`--test=${u.testFramework.value}`),u.features.length>0){let e="";u.features.forEach((t=>{e+=e?`,${t.name}`:t.name})),o.push(`--features=${e}`)}return o.push(i),{url:u.micronautVersion.serviceUrl,args:o,name:u.projectName,target:l[0].fsPath,buildTool:u.buildTool.value,installMicronautTools:u.installMicronautTools.value}}}}))}(e);if(n){if(!0===n.installMicronautTools){if(!(yield m.installExtension()))return}else!1===n.installMicronautTools&&(yield m.neverCheckExtensionInstalled(D));if(yield C(n)){const t=i.Uri.file(c.join(n.target,n.name));(0,h.handleNewGCNProject)(e,t,"Micronaut")}}}))},t.__writeProject=C},185:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMicronautLaunchURL=t.getMicronautHome=void 0;const r=n(980);t.getMicronautHome=function(){let e=r.workspace.getConfiguration("micronaut").get("home");return e||(e=process.env.MICRONAUT_HOME,e)},t.getMicronautLaunchURL=function(){let e=r.workspace.getConfiguration("micronaut").get("launchUrl");return e||(e=process.env.MICRONAUT_LAUNCH_URL),e&&(e.startsWith("https://")||e.startsWith("http://")||(e="https://"+e),e.endsWith("/"))?e.slice(0,e.length-1):e}},980:e=>{"use strict";e.exports=require("vscode")},317:e=>{"use strict";e.exports=require("child_process")},982:e=>{"use strict";e.exports=require("crypto")},896:e=>{"use strict";e.exports=require("fs")},611:e=>{"use strict";e.exports=require("http")},692:e=>{"use strict";e.exports=require("https")},857:e=>{"use strict";e.exports=require("os")},928:e=>{"use strict";e.exports=require("path")},106:e=>{"use strict";e.exports=require("zlib")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}var r={};(()=>{"use strict";var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=n(980),i=n(834),o=n(574),s=n(465);e.activate=function(e){e.subscriptions.push(t.commands.registerCommand("extension.micronaut.createProject",(()=>{(0,s.createProject)(e)}))),(0,s.creatorInit)(),(0,i.micronautProjectExists)().then((t=>{t&&(0,o.checkGCNExtensions)(e)}))},e.deactivate=function(){}})(),module.exports=r})();
//# sourceMappingURL=extension.js.map